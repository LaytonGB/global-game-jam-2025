[gd_scene load_steps=8 format=3 uid="uid://b2u45hejaell6"]

[ext_resource type="ArrayMesh" uid="uid://clrvhwlic74f7" path="res://assets/models/Car-Model/Car.obj" id="1_8nadt"]
[ext_resource type="PackedScene" uid="uid://kjgh2ejyopx1" path="res://characters/Char_3/Char_3.tscn" id="2_s4vie"]
[ext_resource type="Script" path="res://scenes/character_testing/area_2d.gd" id="4_7qnjt"]

[sub_resource type="SphereShape3D" id="SphereShape3D_7hr7n"]

[sub_resource type="SphereMesh" id="SphereMesh_8bm54"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ytb2a"]
size = Vector2(3.06667, 3.73333)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hr01j"]
size = Vector2(1602, 158)

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 0

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
layout_mode = 0
offset_right = 512.0
offset_bottom = 512.0

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(1152, 648)
render_target_update_mode = 4

[node name="Road" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport/Road"]
transform = Transform3D(-0.707107, -0.353553, 0.612372, 0, 0.866025, 0.5, -0.707107, 0.353553, -0.612372, 0, 0, 0)

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport/Road"]
transform = Transform3D(0.965926, 0.12941, -0.224144, 0, 0.866025, 0.5, 0.258819, -0.482963, 0.836516, 0, 0, 0)
light_energy = 0.25

[node name="Camera and Road" type="Node3D" parent="SubViewportContainer/SubViewport/Road"]
transform = Transform3D(14.4527, 0, 0, 0, 14.4527, 0, 0, 0, 14.4527, 0, 0, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="SubViewportContainer/SubViewport/Road/Camera and Road"]
transform = Transform3D(5, 0, 0, 0, 5, 0, 0, 0, 5, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SubViewportContainer/SubViewport/Road/Camera and Road/StaticBody3D"]
shape = SubResource("SphereShape3D_7hr7n")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Road/Camera and Road/StaticBody3D"]
mesh = SubResource("SphereMesh_8bm54")

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport/Road/Camera and Road"]
transform = Transform3D(0.0691912, 0, 0, 0, 0.0691912, 0, 0, 0, 0.0691912, -0.0480809, 2.41912, 2.25465)
fov = 14.0625

[node name="Car" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Road"]
transform = Transform3D(-1, 0, 8.74228e-08, 2.92183e-08, 0.942496, 0.334218, -8.23956e-08, 0.334218, -0.942496, -2.53712, 33.836, 12.243)
mesh = ExtResource("1_8nadt")

[node name="Car2" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/Road"]
transform = Transform3D(-1, 0, 8.74228e-08, 2.92183e-08, 0.942496, 0.334218, -8.23956e-08, 0.334218, -0.942496, 1, 33.836, 12.243)
mesh = ExtResource("1_8nadt")

[node name="SubViewportContainer2" type="SubViewportContainer" parent="."]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Fight" type="Node2D" parent="SubViewportContainer2"]

[node name="Node2D" type="Node2D" parent="SubViewportContainer2/Fight"]
position = Vector2(-858, -1077)
scale = Vector2(2.5, 2.5)

[node name="Char1" parent="SubViewportContainer2/Fight/Node2D" instance=ExtResource("2_s4vie")]
position = Vector2(478, 518.4)
PLAYER_NUMBER = 1

[node name="Char2" parent="SubViewportContainer2/Fight/Node2D" instance=ExtResource("2_s4vie")]
position = Vector2(660.8, 518.4)
PLAYER_NUMBER = 2

[node name="LeftCar" type="StaticBody2D" parent="SubViewportContainer2/Fight/Node2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="SubViewportContainer2/Fight/Node2D/LeftCar"]
position = Vector2(476.8, 595.6)
scale = Vector2(30, 30)
shape = SubResource("RectangleShape2D_ytb2a")

[node name="RightCar" type="StaticBody2D" parent="SubViewportContainer2/Fight/Node2D"]
position = Vector2(184.8, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="SubViewportContainer2/Fight/Node2D/RightCar"]
position = Vector2(476.8, 595.6)
scale = Vector2(30, 30)
shape = SubResource("RectangleShape2D_ytb2a")

[node name="Camera2D" type="Camera2D" parent="SubViewportContainer2/Fight"]
position = Vector2(576, 325)

[node name="Area2D" type="Area2D" parent="SubViewportContainer2/Fight"]
script = ExtResource("4_7qnjt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="SubViewportContainer2/Fight/Area2D"]
position = Vector2(571, 598)
shape = SubResource("RectangleShape2D_hr01j")

[connection signal="body_entered" from="SubViewportContainer2/Fight/Area2D" to="SubViewportContainer2/Fight/Area2D" method="_on_body_entered"]
